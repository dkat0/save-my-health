<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>Save My Health</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta name="color-scheme" content="light only" />
		<meta name="description" content="Actionable steps for improving your health today." />
		<meta property="og:site_name" content="Save My Health" />
		<meta property="og:title" content="Save My Health" />
		<meta property="og:type" content="website" />
		<meta property="og:description" content="Actionable steps for improving your health today." />
		<link href="https://fonts.googleapis.com/css2?display=swap&family=Martian+Mono:ital,wght@0,200;1,200" rel="stylesheet" type="text/css" />
		<link rel="icon" type="image/png" href="assets/images/favicon.png" />
		<link rel="apple-touch-icon" href="assets/images/apple-touch-icon.png" />
		<link rel="stylesheet" href="assets/main.css" />
		<noscript><link rel="stylesheet" href="assets/noscript.css" /></noscript>
	</head>
	<body class="is-loading">
		<div id="wrapper">
			<div id="main">
				<div class="inner">
					<div id="form-container" data-scroll-id="data" data-scroll-behavior="default" data-scroll-offset="0" data-scroll-speed="3" class="container default">
						<div class="wrapper">
							<div class="inner">
								<h2 id="text04">Save My health</h2>
								<h1 id="text01"><em>Let&#39;s Live Longer</em></h1>
								<p id="text14">Actionable steps for improving your health today.</p>
								<hr id="divider02" class="full">
								<h2 id="text08">Your Health</h2>
								<form enctype="multipart/form-data" id="form02" method="post" action="#">
									<div class="inner">
										<div class="field" data-type="text">
											<input type="text" name="name" id="form02-name" placeholder="Name" maxlength="256" required />
										</div>
										<div class="field" data-type="select">
											<select name="sex" id="form02-sex" required>
												<option value="">&ndash; Sex &ndash;</option>
												<option value="value1">Male</option>
												<option value="value2">Female</option>
											</select>
										</div>
										<div class="field" data-type="number">
											<div class="number">
											<input type="number" name="age" id="form02-age" placeholder="Age" maxlength="128" data-category="integer" step="1" min="0" max="199" required />
											<button tabindex="-1" type="button" class="decrement" data-id="form02-age"><svg aria-labelledby="icon-title"><title id="icon-title">Decrement</title><use xlink:href="assets/icons.svg#minus-light"></use></svg></button>
											<button tabindex="-1" type="button" class="increment" data-id="form02-age"><svg aria-labelledby="icon-title"><title id="icon-title">Increment</title><use xlink:href="assets/icons.svg#plus-light"></use></svg></button>
										</div>
										</div>
										<div class="field" data-type="number">
											<div class="number">
											<input type="number" name="weight" id="form02-weight" placeholder="Weight (lbs)" maxlength="128" data-category="decimal" step="0.5" min="0" required />
											<button tabindex="-1" type="button" class="decrement" data-id="form02-weight"><svg aria-labelledby="icon-title"><title id="icon-title">Decrement</title><use xlink:href="assets/icons.svg#minus-light"></use></svg></button>
											<button tabindex="-1" type="button" class="increment" data-id="form02-weight"><svg aria-labelledby="icon-title"><title id="icon-title">Increment</title><use xlink:href="assets/icons.svg#plus-light"></use></svg></button>
										</div>
										</div>
										<div class="field" data-type="number">
											<div class="number">
											<input type="number" name="height" id="form02-height" placeholder="Height (ft)" maxlength="128" data-category="decimal" step="0.1" min="0" required />
											<button tabindex="-1" type="button" class="decrement" data-id="form02-height"><svg aria-labelledby="icon-title"><title id="icon-title">Decrement</title><use xlink:href="assets/icons.svg#minus-light"></use></svg></button>
											<button tabindex="-1" type="button" class="increment" data-id="form02-height"><svg aria-labelledby="icon-title"><title id="icon-title">Increment</title><use xlink:href="assets/icons.svg#plus-light"></use></svg></button>
										</div>
										</div>
										<div class="field" data-type="number">
											<div class="number">
											<input type="number" name="sleep-hours" id="form02-sleep-hours" placeholder="Sleep Hours per Night" maxlength="128" data-category="decimal" step="0.5" min="0" required />
											<button tabindex="-1" type="button" class="decrement" data-id="form02-sleep-hours"><svg aria-labelledby="icon-title"><title id="icon-title">Decrement</title><use xlink:href="assets/icons.svg#minus-light"></use></svg></button>
											<button tabindex="-1" type="button" class="increment" data-id="form02-sleep-hours"><svg aria-labelledby="icon-title"><title id="icon-title">Increment</title><use xlink:href="assets/icons.svg#plus-light"></use></svg></button>
										</div>
										</div>
										<div class="field" data-type="number">
											<div class="number">
											<input type="number" name="exercise-frequency" id="form02-exercise-frequency" placeholder="Weekly Exercise Frequency" maxlength="128" data-category="decimal" step="0.5" min="0" max="21" required />
											<button tabindex="-1" type="button" class="decrement" data-id="form02-exercise-frequency"><svg aria-labelledby="icon-title"><title id="icon-title">Decrement</title><use xlink:href="assets/icons.svg#minus-light"></use></svg></button>
											<button tabindex="-1" type="button" class="increment" data-id="form02-exercise-frequency"><svg aria-labelledby="icon-title"><title id="icon-title">Increment</title><use xlink:href="assets/icons.svg#plus-light"></use></svg></button>
										</div>
										</div>
										<div class="field" data-type="number">
											<div class="number">
											<input type="number" name="drinks-consumed" id="form02-drinks-consumed" placeholder="Weekly Drinks Consumed" maxlength="128" data-category="decimal" step="0.5" min="0" required />
											<button tabindex="-1" type="button" class="decrement" data-id="form02-drinks-consumed"><svg aria-labelledby="icon-title"><title id="icon-title">Decrement</title><use xlink:href="assets/icons.svg#minus-light"></use></svg></button>
											<button tabindex="-1" type="button" class="increment" data-id="form02-drinks-consumed"><svg aria-labelledby="icon-title"><title id="icon-title">Increment</title><use xlink:href="assets/icons.svg#plus-light"></use></svg></button>
										</div>
										</div>
										<div class="field" data-type="checkbox">
											<div class="checkbox">
											<input type="checkbox" name="city" id="form02-city" value="checked" />
											<label for="form02-city"><span>Living In City</span></label>
											</div>
										</div>
										<div class="field" data-type="checkbox">
											<div class="checkbox">
											<input type="checkbox" name="married" id="form02-married" value="checked" />
											<label for="form02-married"><span>Married</span></label>
											</div>
										</div>
										<div class="field" data-type="checkbox">
											<div class="checkbox">
											<input type="checkbox" name="smoker" id="form02-smoker" value="checked" />
											<label for="form02-smoker"><span>Smoker</span></label>
											</div>
										</div>
										<div class="actions">
											<button type="submit">Generate Dashboard</button>
										</div>
									</div>
								</form>
								<p id="loading-text-1">Press Generate Dashboard to Start</p>
								<p id="loading-text-2">-</p>
							</div>
						</div>
					</div>
					<hr id="divider03" class="full">
					<ul id="buttons03" data-scroll-id="impact" data-scroll-behavior="default" data-scroll-offset="0" data-scroll-speed="3" class="buttons">
						<li>
							<a href="#data" class="button n01"><svg aria-labelledby="icon-title"><title id="icon-title">Arrow Up</title><use xlink:href="assets/icons.svg#arrow-up"></use></svg><span class="label">Modify Data</span></a>
						</li>
					</ul>
					<div id="container04" class="container columns">
						<div class="wrapper">
							<div class="inner">
								<div>
									<h2 id="text06">Lifetime Medical Insurance Costs</h2>
									<p id="cost">-</p>
								</div>
								<div>
									<h2 id="text03">Life Expectancy</h2>
									<p id="life-expectancy">-</p>
								</div>
							</div>
						</div>
					</div>
					<ul id="links01" class="links">
						<li class="n01">
							<a >See how we calculate these numbers</a>
						</li>
					</ul>
					<ul id="buttons02" class="buttons">
						<li>
							<a href="#fixes" class="button n01"><svg aria-labelledby="icon-title"><title id="icon-title">Arrow Down</title><use xlink:href="assets/icons.svg#arrow-down"></use></svg><span class="label">See Fixes</span></a>
						</li>
					</ul>
					<hr id="divider08" class="full">
					<ul id="buttons01" data-scroll-id="fixes" data-scroll-behavior="default" data-scroll-offset="0" data-scroll-speed="3" class="buttons">
						<li>
							<a href="#impact" class="button n01"><svg aria-labelledby="icon-title"><title id="icon-title">Arrow Up</title><use xlink:href="assets/icons.svg#arrow-up"></use></svg><span class="label">See Impact</span></a>
						</li>
					</ul>
					<div id="container03" class="container default">
						<div class="wrapper">
							<div class="inner">
								<h2 id="text09">Fix Your Health</h2>
								<h2 id="text10">Diet</h2>
								<div id="diet-list" class="list"><ol><li><p>-</p></li></ol></div>
								<p id="text11">Exercise</p>
								<div id="exercise-list" class="list"><ol><li><p>-</p></li></ol></div>
								<p id="text12">Habits</p>
								<div id="habits-list" class="list"><ol><li><p>-</p></li></ol></div>
								<p id="text13">Stress</p>
								<div id="stress-list" class="list"><ol><li><p>-</p></li></ol></div>
							</div>
						</div>
					</div>
					<div id="embed01">
						<!-- qweoqwupeoiqwuewqe --><script>
						async function processHealthForm(formElement, success, failure) {
						const form = new FormData(formElement);
						
						const data = {
						name: form.get("name"),
						sex: form.get("sex") == "value1" ? "Male" : "Female",
						age: form.get("age"),
						weightPounds: form.get("weight"),
						heightInches: (form.get("height") * 12).toFixed(1),
						sleepHours: form.get("sleep-hours"),
						exerciseFrequency: form.get("exercise-frequency"),
						drinksConsumed: form.get("drinks-consumed"),
						city: form.get("city") == "checked" ? true : false,
						married: form.get("married") == "checked" ? true : false,
						smoker: form.get("smoker") == "checked" ? true : false
						}
						
						console.log(data);
						
						document.querySelector("#loading-text-1").textContent = "Calculating life expectancy and lifetime medical insurance costs using XYZ.";
						
						const {life_expectancy_years, medical_cost} = await getImpacts(data);
						await populateLifeExpectancy(life_expectancy_years);
						await populateCost(medical_cost);
						
						document.querySelector("#loading-text-2").textContent = "Generating directed personalized suggestions to improve your health.";
						
						const fixes = await getFixes(data);
						await populateFixes(fixes);
						
						success();
						}
						
						// DOM Interaction Functions
						
						async function populateLifeExpectancy(lifeExpectancy) {
						document.querySelector("#life-expectancy").textContent = lifeExpectancy;
						}
						
						async function populateCost(cost) {
						document.querySelector("#cost").textContent = `$${cost}`;
						}
						
						async function populateFixes(fixes) {
						// Diet
						const dietList = document.querySelector("#diet-list > ol");
						dietList.children[0].remove();
						for (let i = 0; i < fixes.diet.length; i++) {
						const paragraph = document.createElement("p");
						paragraph.textContent = fixes.diet[i];
						const item = document.createElement("li");
						item.appendChild(paragraph);
						dietList.appendChild(item);
						}
						
						// Exercise
						const exerciseList = document.querySelector("#exercise-list > ol");
						exerciseList.children[0].remove();
						for (let i = 0; i < fixes.exercise.length; i++) {
						const paragraph = document.createElement("p");
						paragraph.textContent = fixes.exercise[i];
						const item = document.createElement("li");
						item.appendChild(paragraph);
						exerciseList.appendChild(item);
						}
						
						// Habits
						const habitsList = document.querySelector("#habits-list > ol");
						habitsList.children[0].remove();
						for (let i = 0; i < fixes.habits.length; i++) {
						const paragraph = document.createElement("p");
						paragraph.textContent = fixes.habits[i];
						const item = document.createElement("li");
						item.appendChild(paragraph);
						habitsList.appendChild(item);
						}
						
						// Stress
						const stressList = document.querySelector("#stress-list > ol");
						stressList.children[0].remove();
						for (let i = 0; i < fixes.stress.length; i++) {
						const paragraph = document.createElement("p");
						paragraph.textContent = fixes.stress[i];
						const item = document.createElement("li");
						item.appendChild(paragraph);
						stressList.appendChild(item);
						}
						}
						
						// API Functions
						
						async function getFixes(data) {
						try {
						// First POST request
						const response = await fetch("https://gpt-4-o-chatbot-daniel582.replit.app/initial_query", {
						method: "POST",
						headers: {
						"Content-Type": "application/json"
						},
						body: JSON.stringify({ input_data: data })
						});
						
						const s = await response.json(); // Parse the JSON response
						console.log(s); // Log the response from the first request
						return s.response;
						} catch (error) {
						console.error("Error:", error); // Handle any errors
						}
						}
						
						async function getImpacts(data) {
						try {
						// Second POST request
						const response = await fetch("https://gpt-4-o-chatbot-daniel582.replit.app/ml_info", {
						method: "POST",
						headers: {
						"Content-Type": "application/json"
						},
						body: JSON.stringify({ input_data: data })
						});
						
						const s = await response.json(); // Parse the JSON response
						console.log(s); // Log the response from the second request
						return s;
						} catch (error) {
						console.error("Error:", error); // Handle any errors
						}
						}
						
						// Dummy API Functions
						
						async function getFixesDummy(data) {
						const dummyOutput = {
						diet: [
						"Increase water intake to 8 cups per day to stay hydrated and reduce strain on the heart.",
						"Add 1 serving of fruit per day, starting with berries or apples."
						],
						exercise: [
						"Start with 15-minute walks every day during lunch or after work, aiming to reach 30 minutes of moderate activity per day.",
						"Add strength training exercises twice a week, focusing on bodyweight exercises like squats and lunges to support joint health.",
						],
						habits: [
						"Gradually reduce cigarette consumption by cutting down to 5 cigarettes per week over the next month.",
						"Limit alcohol to 1 drink per day on weekends, with alcohol-free days during the week.",
						"Establish a consistent bedtime routine by going to bed and waking up at the same time every day."
						],
						stress: [
						"Take breaks every hour during work to walk or stretch, helping to reduce work-related stress.",
						"Engage in a social activity once a week, such as a meetup with friends or joining a local group, to improve social engagement."
						]
						}
						
						return dummyOutput;
						}
						
						async function getImpactsDummy(data) {
						return { lifeExpectancy: 82, medicalCosts: 0 };
						}
						</script><!-- mnbnbxmbzxmncbzxc -->
					</div>
				</div>
			</div>
		</div>
		<script src="assets/main.js"></script>
	</body>
</html>